<style>
#home{cursor:pointer;}
</style>
<template>
  <div id="home">
    <pageTemp :template="template"></pageTemp>
  </div>
</template>
<script type="text/ecmascript-6">
  import pageTemp from './pageTemp.vue'
  import * as pageAPI from '@/services/API/homePage.es6'
  export default {
    name: 'home',
    components: {
      pageTemp
    },
    data () {
      return {
        template: ''
      }
    },
    methods: {
      getHome1 () {
        
          this.$http.get(...pageAPI.getHome()).then(res => {
            if (res.data.code === 200) {
              console.log('&&&&&&&&',res.data)//eslint-disable-line
              
              console.log('给到')
            }
          })
        
      },
      getHome () {
        if (this.$store.state.home.templateStr) {
          this.template = this.$store.state.home.templateStr
        } else {
          var res = {
            code: 200,
            message: '操作成功',
            template: {
              id: '118592814379515904',
              classifyId: '118592616264712192',
              name: '首页',
              friendCircleContent: 'TSL | 謝瑞麟 线上珠宝店UAT',
              friendContent: 'TSL | 謝瑞麟 线上珠宝店UAT',
              templateJson: '[{"id":1526888519293,"style":"","type":5,"config":2},{"id":1516953492498,"style":"","type":5,"config":1},{"id":1532510780349,"style":"","type":4,"config":[{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg","size":148029,"percentage":100,"uid":1536129651295,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536129651808.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/%E6%96%B0%E5%93%81%E4%B8%8A%E5%B8%82%C2%B77%E6%8A%98%E6%83%8A%E5%96%9C/134974756059418624"}},{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg","size":671385,"percentage":100,"uid":1532510792769,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1532510794786.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/THE%2012%20TREASURES/129104186484809728"}}]},{"id":1536204107016,"style":"border: 2px dotted rgba(255, 0, 0, 0.5);","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg","size":120108,"percentage":100,"uid":1536204209104,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536204209248.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/%E6%96%B0%E5%93%81%E4%B8%8A%E5%B8%82%C2%B77%E6%8A%98%E6%83%8A%E5%96%9C/134974756059418624"}}},{"id":1526888396565,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg","size":139320,"percentage":100,"uid":1535701078576,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1535701068187.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/THE%2012%20TREASURES/129104186484809728"}}},{"id":1535701132803,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg","size":161703,"percentage":100,"uid":1536130102795,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536130103181.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}},{"id":1535701104234,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg","size":87775,"percentage":100,"uid":1536130091026,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536130091587.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}},{"id":1536129412446,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg","size":92857,"percentage":100,"uid":1536129629024,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536129629293.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}},{"id":1535701147075,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg","size":93633,"percentage":100,"uid":1536129611855,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1536129612334.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}},{"id":1516953500105,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg","size":161583,"percentage":100,"uid":1535701065237,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1535701055141.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/RAINDROP&ETERNITY/129721267548938240"}}},{"id":1526888537164,"style":"","type":5,"config":2},{"id":1516953510287,"style":"","type":5,"config":2},{"id":1521713750111,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg","size":108734,"percentage":100,"uid":1535701089123,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1535701078804.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/TSL%E4%B8%A8Atelier%20%E7%B3%BB%E5%88%97/134990300704739328"}}},{"id":1527573218234,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg","size":103663,"percentage":100,"uid":1535701097005,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1535701086608.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"http://eshopuat.tslj.cn/#/page/%E6%B4%BB%E5%8A%A8/ESTRELLA/129737846708854784"}}},{"id":1521713807412,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg","size":10810,"percentage":100,"uid":1521713921786,"showProgress":false,"response":{"data":{"pic_original":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg","pic_352":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!352","pic_160":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!160","pic_56":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!56"},"code":200,"message":"操作成功"},"url":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg","url1":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!56","url2":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!160","url3":"http://isoftstone.b0.upaiyun.com/uploads/images/1521713921767.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}},{"id":1526953529445,"style":"","type":3,"config":{"img":[{"status":"finished","name":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg","size":6752,"percentage":100,"uid":1526953982865,"showProgress":false,"response":{"data":{"pic_original":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg","pic_352":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!352","pic_160":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!160","pic_56":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!56"},"code":200,"message":"操作成功"},"url":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg","url1":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!56","url2":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!160","url3":"http://tslycc.test.upcdn.net/uploads/images/1526953983035.jpg!352"}],"linkObj":{"linkModel":"1","linkName":"","optionName":"","link":"javascript:"}}}]'
            }
          }
          this.template = res.template.templateJson
          this.$store.commit('setHomeTemp', this.template)
          // this.$http.get(...pageAPI.getHome()).then(res => {
          //   if (res.data.code === 200) {
          //     this.template = res.data.template.templateJson
          //     this.$store.commit('setHomeTemp', this.template)
          //   }
          // })
        }
      }
    },
    mounted: function () {
      this.getHome(),
      this.getHome1()
    }
  }
</script>
